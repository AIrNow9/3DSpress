<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Create your 3DSpress booking link</title>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; max-width: 720px; margin: 2rem auto; }
    input, button { padding: 0.5rem; font-size: 1rem; }
    .result { margin-top: 1rem; }
  </style>
</head>
<body>
  <h1>Create your share link</h1>
  <p>Pick a short id for your bookings (ex: <code>alex</code>, <code>driver1</code>) and share the link:</p>
  <form id="form">
    <label>Driver ID (no spaces):
      <input name="driverId" required pattern="[A-Za-z0-9-_]+" />
    </label>
    <button type="submit">Create Link</button>
  </form>
  <div id="out" class="result"></div>
  <script>
    document.getElementById('form').onsubmit = e => {
      e.preventDefault();
      const driverId = e.target.driverId.value.trim();
      if (!driverId) return;
      const host = location.origin;
      const bookLink = host + '/book/' + encodeURIComponent(driverId);
      document.getElementById('out').innerHTML =
        '<p>Share this link: <a href="' + bookLink + '">' + bookLink + '</a></p>' +
        '<p>Admin view (add ?pass=YOUR_ADMIN_PASS): ' + host + '/admin</p>';
    }
  </script>
</body>
</html>